// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract StudentData {
    struct Student {
        uint ID;
        string fName;
        string lName;
        uint[2] marks;
    }

    address public owner;
    uint public stdCount = 0;
    mapping(uint => Student) public stdRecords;

    modifier onlyOwner() {
        require(owner == msg.sender, "Only owner can perform this action");
        _;
    }

    constructor() {
        owner = msg.sender;
    }

    // Add a new student record
    function addNewRecord(
        string memory _fName,
        string memory _lName,
        uint[2] memory _marks
    ) public onlyOwner {
        stdCount++;
        stdRecords[stdCount] = Student(stdCount, _fName, _lName, _marks);
    }

    // Fetch a student record by ID
    function getRecord(uint _id)
        public
        view
        returns (string memory, string memory, uint[2] memory)
    {
        require(_id > 0 && _id <= stdCount, "Invalid student ID");
        Student memory s = stdRecords[_id];
        return (s.fName, s.lName, s.marks);
    }

    // Optional: Allow the contract to receive Ether
    receive() external payable {}
}
